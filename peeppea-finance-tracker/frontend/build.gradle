plugins {
    id 'java'
    id 'application'
}

group = 'com.peeppea.finance'
version = '0.0.1-SNAPSHOT'

java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(21)
    }
}

repositories {
    mavenCentral()
}

dependencies {
    // JavaFX dependencies (only needed for runtime JVM args)
    implementation 'org.openjfx:javafx-controls:23.0.1'
    implementation 'org.openjfx:javafx-fxml:23.0.1'
}

application {
    // Specify the main class for the JavaFX application
    mainClass = 'com.peeppea.finance.peeppea_finance_tracker.Main'
}

// Configure JVM runtime arguments to include JavaFX modules
tasks.named('run', JavaExec) {
    jvmArgs += [
        '--module-path', 'C:/Program Files/Java/javafx-sdk-23.0.1/lib', // Path to JavaFX lib directory
        '--add-modules', 'javafx.controls,javafx.fxml'
    ]
}

// Ensure JavaFX modules are included for compilation
tasks.named('compileJava') {
    options.compilerArgs += [
        '--module-path', 'C:/Program Files/Java/javafx-sdk-23.0.1/lib', // Path to JavaFX lib directory
        '--add-modules', 'javafx.controls,javafx.fxml'
    ]
}